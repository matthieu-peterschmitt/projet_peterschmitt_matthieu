<div class="app-container">
  <header class="app-header">
    <h1>ğŸŒ {{ title }}</h1>
    <p>SystÃ¨me de gestion des dÃ©clarations de pollution environnementale</p>

    <nav class="app-nav">
      <a routerLink="/pollutions" class="nav-link">ğŸ“‹ Liste des Pollutions</a>
      <a routerLink="/pollution/new" class="nav-link">â• Nouvelle DÃ©claration</a>
      <a routerLink="/favorites" class="nav-link favorites-link">
        â­ Mes Favoris @if (favoritesCount() > 0) {
        <span class="badge">{{ favoritesCount() }}</span>
        }
      </a>
      <a routerLink="/users" class="nav-link">ğŸ‘¥ Liste des Utilisateurs</a>
      <a routerLink="/user/new" class="nav-link">â• Nouvel Utilisateur</a>

      <div class="nav-user">
        @if (isAuthenticated()) {
        <span class="user-info">
          ğŸ‘¤ {{ currentUser()?.prenom }} {{ currentUser()?.nom }} @if (currentUser()?.role) {
          <span class="user-role">({{ currentUser()?.role }})</span>
          }
        </span>
        <button (click)="logout()" class="btn-logout">ğŸšª DÃ©connexion</button>
        } @else {
        <a routerLink="/login" class="nav-link">ğŸ” Connexion</a>
        <a routerLink="/register" class="nav-link">ğŸ“ Inscription</a>
        }
      </div>
    </nav>
  </header>

  <main class="app-main">
    <router-outlet></router-outlet>
  </main>

  <footer class="app-footer">
    <p>&copy; 2025 - TP4 Angular - Gestion des Pollutions</p>
  </footer>
</div>
